<% if @products.exists? %>
  <div class="container mt-5">
    <h2>Your Shopping Cart</h2>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Product</th>
          <th scope="col">Price</th>
          <th scope="col">Quantity</th>
          <th scope="col">Total</th>
        </tr>
      </thead>
      <tbody>
        <% @products.each.with_index(1) do |prd, index| %>
          <% quantity = cart_product_quantity(prd.id) %>
          <tr>
            <th scope="row"><%= index %></th>
            <td><%= prd.name %></td>
            <td>₹<%= prd.price.to_i %></td>
            <td><%= quantity %></td>
            <td>₹<%= prd.price.to_i * quantity %></td>
          </tr>
        <% end %>
        <tr>
          <td colspan="4" class="text-right">Total</td>
          <td>₹<%= @total_price %></td>
        </tr>
      </tbody>
    </table>
  </div>
<% else %>
  <h3 class="text-center mt-3">Please add products to cart first!</h3>
<% end %>